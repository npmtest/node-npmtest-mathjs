<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-mathjs/mathjs/lib/expression/node/FunctionNode.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-mathjs">npmtest-mathjs (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-mathjs/mathjs/lib/expression/node/FunctionNode.js</span></h1>
    <h2>
        
        Statements: <span class="metric">5.63% <small>(9 / 160)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 78)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 23)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.66% <small>(9 / 159)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-mathjs/mathjs/lib/expression/node/</a> &#187; FunctionNode.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
var latex = require('../../utils/latex');
var extend = require('../../utils/object').extend;
&nbsp;
<span class="fstat-no" title="function not covered" >function factory (type, config, load, typed, math) {</span>
<span class="cstat-no" title="statement not covered" >  var Node = load(require('./Node'));</span>
<span class="cstat-no" title="statement not covered" >  var SymbolNode = load(require('./SymbolNode'));</span>
<span class="cstat-no" title="statement not covered" >  var validateSafeMethod = load(require('./utils/customs')).validateSafeMethod;</span>
&nbsp;
  /**
   * @constructor FunctionNode
   * @extends {./Node}
   * invoke a list with arguments on a node
   * @param {./Node | string} fn Node resolving with a function on which to invoke
   *                             the arguments, typically a SymboNode or AccessorNode
   * @param {./Node[]} args
   */
<span class="fstat-no" title="function not covered" >  function FunctionNode(fn, args) {</span>
<span class="cstat-no" title="statement not covered" >    if (!(this instanceof FunctionNode)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new SyntaxError('Constructor must be called with the new operator');</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof fn === 'string') {</span>
<span class="cstat-no" title="statement not covered" >      fn = new SymbolNode(fn);</span>
    }
&nbsp;
    // validate input
<span class="cstat-no" title="statement not covered" >    if (!fn || !fn.isNode) <span class="cstat-no" title="statement not covered" >throw new TypeError('Node expected as parameter "fn"');</span></span>
<span class="cstat-no" title="statement not covered" >    if (!Array.isArray(args)</span>
        || !args.every(<span class="fstat-no" title="function not covered" >function (arg) {<span class="cstat-no" title="statement not covered" ></span>return arg &amp;&amp; arg.isNode;}</span>)) {
<span class="cstat-no" title="statement not covered" >      throw new TypeError('Array containing Nodes expected for parameter "args"');</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.fn = fn;</span>
<span class="cstat-no" title="statement not covered" >    this.args = args || [];</span>
&nbsp;
    // readonly property name
<span class="cstat-no" title="statement not covered" >    Object.defineProperty(this, 'name', {</span>
      get: <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >        return this.fn.name || '';</span>
      }.bind(this),
      set: <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >        throw new Error('Cannot assign a new name, name is read-only');</span>
      }
    });
&nbsp;
    // TODO: deprecated since v3, remove some day
<span class="cstat-no" title="statement not covered" >    var deprecated = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      throw new Error('Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead');</span>
    };
<span class="cstat-no" title="statement not covered" >    Object.defineProperty(this, 'object', { get: deprecated, set: deprecated });</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype = new Node();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.type = 'FunctionNode';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.isFunctionNode = true;</span>
&nbsp;
  /**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype._compile = <span class="fstat-no" title="function not covered" >function (defs, args) {</span></span>
    // compile fn and arguments
<span class="cstat-no" title="statement not covered" >    var jsFn = this.fn._compile(defs, args);</span>
<span class="cstat-no" title="statement not covered" >    var jsArgs = this.args.map(<span class="fstat-no" title="function not covered" >function (arg) {</span></span>
<span class="cstat-no" title="statement not covered" >      return arg._compile(defs, args);</span>
    });
<span class="cstat-no" title="statement not covered" >    var jsScope = this._compileScope(defs, args);</span>
<span class="cstat-no" title="statement not covered" >    var argsName;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this.fn.isSymbolNode) {</span>
      // we can statically determine whether the function has an rawArgs property
<span class="cstat-no" title="statement not covered" >      var name = this.fn.name;</span>
<span class="cstat-no" title="statement not covered" >      var fn = defs.math[name];</span>
<span class="cstat-no" title="statement not covered" >      var isRaw = (typeof fn === 'function') &amp;&amp; (fn.rawArgs == true);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (isRaw) {</span>
        // pass unevaluated parameters (nodes) to the function
<span class="cstat-no" title="statement not covered" >        argsName = this._getUniqueArgumentsName(defs);</span>
<span class="cstat-no" title="statement not covered" >        defs[argsName] = this.args;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        return jsFn + '(' + argsName + ', math, ' + jsScope + ')';</span>
      }
      else {
        // "regular" evaluation
<span class="cstat-no" title="statement not covered" >        return jsFn + '(' + jsArgs.join(', ') + ')';</span>
      }
    }
    else <span class="cstat-no" title="statement not covered" >if (this.fn.isAccessorNode &amp;&amp; this.fn.index.isObjectProperty()) {</span>
      // execute the function with the right context: the object of the AccessorNode
<span class="cstat-no" title="statement not covered" >      argsName = this._getUniqueArgumentsName(defs);</span>
<span class="cstat-no" title="statement not covered" >      defs[argsName] = this.args;</span>
<span class="cstat-no" title="statement not covered" >      defs.validateSafeMethod = validateSafeMethod</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var jsObject = this.fn.object._compile(defs, args);</span>
<span class="cstat-no" title="statement not covered" >      var prop = this.fn.index.getObjectProperty();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      return '(function () {' +</span>
          'var object = ' + jsObject + ';' +
          'validateSafeMethod(object, "' + prop + '");' +
          'return (object["' + prop + '"] &amp;&amp; object["' + prop + '"].rawArgs) ' +
          ' ? object["' + prop + '"](' + argsName + ', math, ' + jsScope + ')' +
          ' : object["' + prop + '"](' + jsArgs.join(', ') + ')' +
          '})()';
    }
    else { // this.fn.isAccessorNode &amp;&amp; !this.fn.index.isObjectProperty()
      // we have to dynamically determine whether the function has a rawArgs property
<span class="cstat-no" title="statement not covered" >      argsName = this._getUniqueArgumentsName(defs);</span>
<span class="cstat-no" title="statement not covered" >      defs[argsName] = this.args;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      return '(function () {' +</span>
          'var fn = ' + jsFn + ';' +
          'return (fn &amp;&amp; fn.rawArgs) ' +
          ' ? fn(' + argsName + ', math, ' + jsScope + ')' +
          ' : fn(' + jsArgs.join(', ') + ')' +
          '})()';
    }
  };
&nbsp;
  /**
   * Merge function arguments into scope before passing to the actual function.
   * This is needed when the function has `rawArgs=true`. In that case we have
   * to pass the `scope` as third argument, including any variables of
   * enclosing functions.
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype._compileScope = <span class="fstat-no" title="function not covered" >function (defs, args) {</span></span>
<span class="cstat-no" title="statement not covered" >    var names = Object.keys(args);</span>
<span class="cstat-no" title="statement not covered" >    if (names.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >      return 'scope';</span>
    }
    else {
      // merge arguments into scope
<span class="cstat-no" title="statement not covered" >      defs.extend = extend;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var jsArgs = names</span>
          .map(<span class="fstat-no" title="function not covered" >function (arg) {</span>
<span class="cstat-no" title="statement not covered" >            return '"' + arg + '": ' + arg;</span>
          })
          .join(', ');
&nbsp;
<span class="cstat-no" title="statement not covered" >      return 'extend(extend({}, scope), {' + jsArgs + '})';</span>
    }
  };
&nbsp;
  /**
   * Get a unique name for a arguments to store in defs
   * @param {Object} defs
   * @return {string} A string like 'args1', 'args2', ...
   * @private
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype._getUniqueArgumentsName = <span class="fstat-no" title="function not covered" >function (defs) {</span></span>
<span class="cstat-no" title="statement not covered" >    var argsName;</span>
<span class="cstat-no" title="statement not covered" >    var i = 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    do {</span>
<span class="cstat-no" title="statement not covered" >      argsName = 'args' + i;</span>
<span class="cstat-no" title="statement not covered" >      i++;</span>
    }
    while (argsName in defs);
&nbsp;
<span class="cstat-no" title="statement not covered" >    return argsName;</span>
  };
&nbsp;
  /**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.forEach = <span class="fstat-no" title="function not covered" >function (callback) {</span></span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.args.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      callback(this.args[i], 'args[' + i + ']', this);</span>
    }
  };
&nbsp;
  /**
   * Create a new FunctionNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {FunctionNode} Returns a transformed copy of the node
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.map = <span class="fstat-no" title="function not covered" >function (callback) {</span></span>
<span class="cstat-no" title="statement not covered" >    var fn = this.fn.map(callback);</span>
<span class="cstat-no" title="statement not covered" >    var args = [];</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; this.args.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      args[i] = this._ifNode(callback(this.args[i], 'args[' + i + ']', this));</span>
    }
<span class="cstat-no" title="statement not covered" >    return new FunctionNode(fn, args);</span>
  };
&nbsp;
  /**
   * Create a clone of this node, a shallow copy
   * @return {FunctionNode}
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.clone = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >    return new FunctionNode(this.fn, this.args.slice(0));</span>
  };
&nbsp;
  //backup Node's toString function
  //@private
<span class="cstat-no" title="statement not covered" >  var nodeToString = FunctionNode.prototype.toString;</span>
&nbsp;
  /**
   * Get string representation. (wrapper function)
   * This overrides parts of Node's toString function.
   * If callback is an object containing callbacks, it
   * calls the correct callback for the current node,
   * otherwise it falls back to calling Node's toString
   * function.
   *
   * @param {Object} options
   * @return {string} str
   * @override
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.toString = <span class="fstat-no" title="function not covered" >function (options) {</span></span>
<span class="cstat-no" title="statement not covered" >    var customString;</span>
<span class="cstat-no" title="statement not covered" >    var name = this.fn.toString(options);</span>
<span class="cstat-no" title="statement not covered" >    if (options &amp;&amp; (typeof options.handler === 'object') &amp;&amp; options.handler.hasOwnProperty(name)) {</span>
      //callback is a map of callback functions
<span class="cstat-no" title="statement not covered" >      customString = options.handler[name](this, options);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof customString !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >      return customString;</span>
    }
&nbsp;
    //fall back to Node's toString
<span class="cstat-no" title="statement not covered" >    return nodeToString.call(this, options);</span>
  };
&nbsp;
  /**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype._toString = <span class="fstat-no" title="function not covered" >function (options) {</span></span>
<span class="cstat-no" title="statement not covered" >    var args = this.args.map(<span class="fstat-no" title="function not covered" >function (arg) {</span></span>
<span class="cstat-no" title="statement not covered" >      return arg.toString(options);</span>
    });
&nbsp;
    // format the arguments like "add(2, 4.2)"
<span class="cstat-no" title="statement not covered" >    return this.fn.toString(options) + '(' + args.join(', ') + ')';</span>
  };
&nbsp;
  /*
   * Expand a LaTeX template
   *
   * @param {string} template
   * @param {Node} node
   * @param {Object} options
   * @private
   **/
<span class="fstat-no" title="function not covered" >  function expandTemplate(template, node, options) {</span>
<span class="cstat-no" title="statement not covered" >    var latex = '';</span>
&nbsp;
    // Match everything of the form ${identifier} or ${identifier[2]} or $$
    // while submatching identifier and 2 (in the second case)
<span class="cstat-no" title="statement not covered" >    var regex = new RegExp('\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)', 'ig');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var inputPos = 0; </span>  //position in the input string
<span class="cstat-no" title="statement not covered" >    var match;</span>
<span class="cstat-no" title="statement not covered" >    while ((match = regex.exec(template)) !== null) {   //go through all matches</span>
      // add everything in front of the match to the LaTeX string
<span class="cstat-no" title="statement not covered" >      latex += template.substring(inputPos, match.index);</span>
<span class="cstat-no" title="statement not covered" >      inputPos = match.index;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (match[0] === '$$') { // escaped dollar sign</span>
<span class="cstat-no" title="statement not covered" >        latex += '$';</span>
<span class="cstat-no" title="statement not covered" >        inputPos++;</span>
      }
      else { // template parameter
<span class="cstat-no" title="statement not covered" >        inputPos += match[0].length;</span>
<span class="cstat-no" title="statement not covered" >        var property = node[match[1]];</span>
<span class="cstat-no" title="statement not covered" >        if (!property) {</span>
<span class="cstat-no" title="statement not covered" >          throw new ReferenceError('Template: Property ' + match[1] + ' does not exist.');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (match[2] === undefined) { //no square brackets</span>
<span class="cstat-no" title="statement not covered" >          switch (typeof property) {</span>
            case 'string':
<span class="cstat-no" title="statement not covered" >              latex += property;</span>
<span class="cstat-no" title="statement not covered" >              break;</span>
            case 'object':
<span class="cstat-no" title="statement not covered" >              if (property.isNode) {</span>
<span class="cstat-no" title="statement not covered" >                latex += property.toTex(options);</span>
              }
              else <span class="cstat-no" title="statement not covered" >if (Array.isArray(property)) {</span>
                //make array of Nodes into comma separated list
<span class="cstat-no" title="statement not covered" >                latex += property.map(<span class="fstat-no" title="function not covered" >function (arg, index) {</span></span>
<span class="cstat-no" title="statement not covered" >                  if (arg &amp;&amp; arg.isNode) {</span>
<span class="cstat-no" title="statement not covered" >                    return arg.toTex(options);</span>
                  }
<span class="cstat-no" title="statement not covered" >                  throw new TypeError('Template: ' + match[1] + '[' + index + '] is not a Node.');</span>
                }).join(',');
              }
              else {
<span class="cstat-no" title="statement not covered" >                throw new TypeError('Template: ' + match[1] + ' has to be a Node, String or array of Nodes');</span>
              }
<span class="cstat-no" title="statement not covered" >              break;</span>
            default:
<span class="cstat-no" title="statement not covered" >              throw new TypeError('Template: ' + match[1] + ' has to be a Node, String or array of Nodes');</span>
          }
        }
        else { //with square brackets
<span class="cstat-no" title="statement not covered" >          if (property[match[2]] &amp;&amp; property[match[2]].isNode) {</span>
<span class="cstat-no" title="statement not covered" >            latex += property[match[2]].toTex(options);</span>
          }
          else {
<span class="cstat-no" title="statement not covered" >            throw new TypeError('Template: ' + match[1] + '[' + match[2] + '] is not a Node.');</span>
          }
        }
      }
    }
<span class="cstat-no" title="statement not covered" >    latex += template.slice(inputPos); </span> //append rest of the template
&nbsp;
<span class="cstat-no" title="statement not covered" >    return latex;</span>
  }
&nbsp;
  //backup Node's toTex function
  //@private
<span class="cstat-no" title="statement not covered" >  var nodeToTex = FunctionNode.prototype.toTex;</span>
&nbsp;
  /**
   * Get LaTeX representation. (wrapper function)
   * This overrides parts of Node's toTex function.
   * If callback is an object containing callbacks, it
   * calls the correct callback for the current node,
   * otherwise it falls back to calling Node's toTex
   * function.
   *
   * @param {Object} options
   * @return {string}
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.toTex = <span class="fstat-no" title="function not covered" >function (options) {</span></span>
<span class="cstat-no" title="statement not covered" >    var customTex;</span>
<span class="cstat-no" title="statement not covered" >    if (options &amp;&amp; (typeof options.handler === 'object') &amp;&amp; options.handler.hasOwnProperty(this.name)) {</span>
      //callback is a map of callback functions
<span class="cstat-no" title="statement not covered" >      customTex = options.handler[this.name](this, options);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof customTex !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >      return customTex;</span>
    }
&nbsp;
    //fall back to Node's toTex
<span class="cstat-no" title="statement not covered" >    return nodeToTex.call(this, options);</span>
  };
&nbsp;
  /**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype._toTex = <span class="fstat-no" title="function not covered" >function (options) {</span></span>
<span class="cstat-no" title="statement not covered" >    var args = this.args.map(<span class="fstat-no" title="function not covered" >function (arg) {</span> //get LaTeX of the arguments</span>
<span class="cstat-no" title="statement not covered" >      return arg.toTex(options);</span>
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    var latexConverter;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (math[this.name] &amp;&amp; ((typeof math[this.name].toTex === 'function') || (typeof math[this.name].toTex === 'object') || (typeof math[this.name].toTex === 'string'))) {</span>
      //.toTex is a callback function
<span class="cstat-no" title="statement not covered" >      latexConverter = math[this.name].toTex;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var customToTex;</span>
<span class="cstat-no" title="statement not covered" >    switch (typeof latexConverter) {</span>
      case 'function': //a callback function
<span class="cstat-no" title="statement not covered" >        customToTex = latexConverter(this, options);</span>
<span class="cstat-no" title="statement not covered" >        break;</span>
      case 'string': //a template string
<span class="cstat-no" title="statement not covered" >        customToTex = expandTemplate(latexConverter, this, options);</span>
<span class="cstat-no" title="statement not covered" >        break;</span>
      case 'object': //an object with different "converters" for different numbers of arguments
<span class="cstat-no" title="statement not covered" >        switch (typeof latexConverter[args.length]) {</span>
          case 'function':
<span class="cstat-no" title="statement not covered" >            customToTex = latexConverter[args.length](this, options);</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
          case 'string':
<span class="cstat-no" title="statement not covered" >            customToTex = expandTemplate(latexConverter[args.length], this, options);</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
        }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof customToTex !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >      return customToTex;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return expandTemplate(latex.defaultTemplate, this, options);</span>
  };
&nbsp;
  /**
   * Get identifier.
   * @return {string}
   */
<span class="cstat-no" title="statement not covered" >  FunctionNode.prototype.getIdentifier = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >    return this.type + ':' + this.name;</span>
  };
&nbsp;
<span class="cstat-no" title="statement not covered" >  return FunctionNode;</span>
}
&nbsp;
exports.name = 'FunctionNode';
exports.path = 'expression.node';
exports.math = true; // request access to the math namespace as 5th argument of the factory function
exports.factory = factory;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 11 2017 13:52:29 GMT+0000 (UTC)</div>
</div>
</body>
</html>
